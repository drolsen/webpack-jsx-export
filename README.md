<div align="center">
  <img src="/assets/logo.jpg" width="700" />
  <p style="margin-top: 25px;">Plugin to allow for the static rendering and exporting of JSX files to disk.</p>

[![Build Status](https://travis-ci.com/drolsen/webpack-js-export.svg?branch=master)](https://travis-ci.com/drolsen/webpack-js-export)
[![dependencies Status](https://david-dm.org/drolsen/webpack-js-export/status.svg)](https://david-dm.org/drolsen/webpack-js-export)
[![devDependencies Status](https://david-dm.org/drolsen/webpack-js-export/dev-status.svg)](https://david-dm.org/drolsen/webpack-js-export?type=dev)
</div>

### Why?
Some larger eco-systems like content management systems don't have the option or desire to render JSX (client or server side) due to the sheer number of libraries already in use. In these instances a export approach allows your project to still use React, but now pre-render and export JSX to larger eco-systems as needed.

### How it works
Webpack JSX Exports takes all incoming JSX files (of a given plugin configuration), then at the end of a standard Webpack build the exporter will process these configured files and write them to disk.

It's that simple!

---
### Install
```
npm i --save-dev webpack-jsx-export
```
```
yarn add --dev webpack-jsx-export
```

### Webpack Config
Import `webpack-jsx-export` into your Webpack configuration file:

```js
const WebpackJSXExport = require('webpack-jsx-export');
```

Instantiate new `WebpackJSXExport(...)` class within Webpack's plugin configuration array:
```js
module.exports = {
  "plugins": [
    new WebpackJSXExport()
  ]
};
```

---

## Options

```js
module.exports = {
  "plugins": [
    new WebpackJSXExport({
      ...options...
    })
  ]
};
```

Option | Types | Description | Default
--- | --- | --- | ---
`files` | Object Array | Defines both input and output paths of JSX and exported file(s) 
`plugins` | Array | Defines plugins used during the processing of each JSX file.
`extension` | String | Defines exported file(s) extension type.
`comment` | String or Boolean | Defines a custom comment, or no comment at all pre-pended to the top of exported files.

## options.files
With the `files` option, you can specify both `input` and `output` of a single or multiple locations where you would like to glob for JSX files, and ultimatly write these found files to disk.

```js
new WebpackJSXExport({
  files: [{
    input: './src/location/',
    output: './dist/location'
  }]
})
```

By default the exported file type is `.html`; use `extension` to define a different file extension for your exports:
```js
new WebpackJSXExport({
  files: [{
    input: './src/location-one/',
    output: './dist/location',
    extension: '.html'
  }]
})
```
Please note the exported filename will be equal to the input filename unless otherwise specified.


Multiple locations for input, single export location is the same:
```js
new WebpackJSXExport({
  files: [{
    input: './src/location-one/',
    output: './dist/location'
  }, {
    input: './src/location-two/',
    output: './dist/location'
  }]
})
```

## options.plugins
This option allows you to specify additional plugins to process the exported JSX static rendering. This is useful if your JSX uses server-side syntax like Adobe HTL, .Net razor or PHP that needs to be processed before written to disk. Please note there is currently no large community behind export plugins, so each plugin (if not found in /plugins/) you will need to craft yourself for your project's exporting needs.


```js
new WebpackJSXExport({
  files: [{
    input: './src/location-one/',
    output: './dist/location'
  }, {
    input: './src/location-two/',
    output: './dist/location'
  }],  
  plugins: [
    HTLPlugin(),
    RazorPlugin(),
    PHPPlugin()
  ]
})
```
---

## options.comment
At the top of each exported file, a comment is included to denote to developers at a later point that this file was auto generated. You can supply your own comment here using the `comment` option.

```js
new WebpackJSXExport({
  comment: 'Please do not edit this file! This was generated at build!'
})
```

Or, if you wish to have no comment (not recommended), simply supply a `false` value:

```js
new WebpackJSXExport({
  comment: false
})
```

---

### Tests

Webpack JSX Export comes with a number of tests found under `/tests`.
These are here to help you better understand the expectations of each option we covered above.

Simply run `npm run test` or `yarn test` from the root of the plugin to run all tests. Running a test will produce a `/dist/[test]` directories.

If you would like to change a test, update the root package.json file's `test` script to use any of the `/test/*.test.config.js` files.
